<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <style>
        body {
            background-color: bisque;
            height: 100vh;
            width: 100vw;
        }

        .container {
            background-color: white;
            width: 80vw;
            border: 0.5px solid brown;
            border-radius: 20px;
            box-shadow: 3px 3px 3px rgb(110, 24, 24);
        }
    </style>
</head>

<body class="d-flex justify-content-center align-items-center">
    <div class="container p-5">
        <h2 class="mt-3">Register</h2>
        <p>Please fill in this form to create an account</p>
        <form action="" method="post" class="w-100" id="registrationForm">
            <div class="input-group  mb-3">
                <span class="input-group-text"><i class="fa-solid fa-user"></i></span>
                <input type="text" class="form-control" id="name" placeholder="Username" title="Enter your username">
                <span id="nameError" class="text-danger"></span>
            </div>

            <div class="input-group mb-3">
                <span class="input-group-text"><i class="fa-solid fa-envelope"></i></span>
                <input type="email" class="form-control" id="email" placeholder="Email-adress"
                    title="Enter your proper email">
                <span id="emailError" class="text-danger"></span>
            </div>

            <div class="input-group  mb-3">
                <span class="input-group-text"><i class="fa-solid fa-lock"></i></span>
                <input type="password" class="form-control" id="password" placeholder="Password"
                    title="Enter your password">
                <span id="passwordError" class="text-danger"></span>
            </div>

            <div class="input-group mb-3">
                <span class="input-group-text"><i class="fa-solid fa-lock"></i></span>
                <input type="password" class="form-control" id="cpassword" placeholder="Confirm password"
                    title="Confirm your password">
                <span id="passwordError" class="text-danger"></span>
            </div>

            <div class="input-group mb-3">
                <span class="input-group-text"><i class="fa-solid fa-home"></i></span>
                <input type="text" class="form-control" id="adress" placeholder="Write down your Adress"
                    title="Write your adress">
                <span id="adressError" class="text-danger"></span>
            </div>

            <div class="input-group mb-3">
                <span class="input-group-text"><i class="fa-solid fa-location"></i></span>
                <input type="number" class="form-control" id="pincode" placeholder="Enter your pincode"
                    title="Enter your pincode">
                <span id="pincodeError" class="text-danger"></span>
            </div>

            <div class="form-check">
                <input class="form-check-input" type="checkbox" value="" id="checkbox">
                <label class="form-check-label" for="form-check">I accept the <a href="" style="color: blue;">Terms of
                        Use</a>
                    and <a href="" style="color: blue;">Privacy policy</a></label>
            </div>
            <br>
            <button type="submit" class="btn btn-warning mb-3 w-100">Register</button>
            <p class="mt-2">Already have an account? <a href="./loginform.html" style="color: blue;">Login</a></p>
        </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const registrationForm = document.querySelector("#registrationForm");
            registrationForm.addEventListener("submit", (event) => {
                event.preventDefault();
                const showError = (eleId, text) => {
                    document.getElementById(eleId).textContent = text;
                }
                const clearError = (eleId) => {
                    document.getElementById(eleId).textContent = "";
                }
                const formValid = () => {
                    const isValid = true;

                    const name = document.querySelector("#name").value.trim();
                    const email = document.querySelector("#email").value.trim();
                    const password = document.querySelector("#password").value;
                    const cpassword = document.querySelector("#cpassword").value;
                    const adress = document.querySelector("#adress").textContent;
                    const pincode = document.querySelector("#pincode").value.trim();

                    if (name === "") {
                        showError("nameError", "Name feild is required")
                        isValid = false
                    } else if (name.length < 3) {
                        showError("nameError", "Name should contain atleast 3 characters")
                        isValid = false
                    } else {
                        clearError("nameError");
                        isValid = true;

                    }

                    // email validation @gmail.com
                    const emailPattern = "/^[a-zA-Z0-9+_%+-]+@[a-zA-z0-9.-]+\.[a-zA-Z]{2,}$/"
                    if (email === "") {
                        showError("emailError", "Email feild is required")
                        isValid = false;
                    } else if (emailPattern.test(email)) {
                        showError("emailError", "Email is inValid");
                        isValid = false;
                    } else {
                        clearError("nameError");
                        isValid = true;

                    }
                    console.log(name, email, password, cpassword, adress, pincode);
                    return isValid;
                }

                if (formValid()) {
                    alert("Form Submitted Successfully");
                    registrationForm.submit();
                }
            });
        });
        // to match and check if the name word has the following charaters
        // const namereg = /(?=.*[a-zA-Z0-9])/g;  //g for global match and i for
        // console.log(namereg.test("Helloh"));
    </script>
</body>

</html>